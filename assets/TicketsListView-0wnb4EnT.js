import{_ as g,r as a,o as m,c as k,w as e,a as t,b as f,t as p,d as L,e as h,n as w,f as S,F as C,g as V}from"./index-B8R4EK_n.js";const y={name:"TicketsListItemComponent",props:{ticket:Object}},b=["src"];function I(l,c,s,x,o,r){const n=a("el-text"),i=a("el-col"),d=a("el-row"),_=a("el-card");return m(),k(d,{class:"search-card"},{default:e(()=>[t(i,null,{default:e(()=>[t(_,{style:{"max-width":"480px"}},{header:e(()=>[t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[t(n,{class:"ticket-title"},{default:e(()=>[f(p(s.ticket.title),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(n,{class:"ticket-place"},{default:e(()=>[f(p(s.ticket.place),1)]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(d,null,{default:e(()=>[t(i,{span:12},{default:e(()=>[t(n,{class:"ticket-date"},{default:e(()=>[f(p(s.ticket.date),1)]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(n,{class:"ticket-price"},{default:e(()=>[f(p(s.ticket.price),1)]),_:1})]),_:1})]),_:1}),t(d,{style:{margin:"8px 0px"}},{default:e(()=>[t(i,null,{default:e(()=>[L("img",{src:s.ticket.image,style:{width:"100%"}},null,8,b)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const T=g(y,[["render",I]]),$={name:"TicketListComponent",components:{TicketsListItemComponent:T},data(){return{filteredValue:"",focused:!1,tickets:[{id:1,title:"Самые известные комики",place:'Стендап бар "Патрики"',date:"22:00 28.06.2024",price:"от 1650 р",image:"https://media.ticketland.ru/images/420x270/81/7d/817d69d77f92f77fad5cbdc69e96fcce.jpg",isSelected:!1},{id:2,title:"Unki",place:'Клуб "Урбан"',date:"18:00 30.06.2024",price:"999 - 2900 р",image:"https://media.ticketland.ru/images/420x270/ed/e1/ede1b538bd7e4a601ff4afc78ea6e7fa.jpg",isSelected:!1},{id:3,title:"Ничего не бойся, я с тобой",place:"МДМ",date:"19:00 25.06.2024",price:"1300 - 10000 р",image:"https://media.ticketland.ru/images/420x270/f9/ad/f9ad2ef01e423be6a607da2af01d7b37.jpg",isSelected:!1}]}},watch:{isAnySelected(){this.isAnySelected?this.$emit("change-tg-button-state",!0):this.$emit("change-tg-button-state",!1)}},methods:{selectItem(l){this.employees.forEach(s=>{s.id==l?s.isSelected=!s.isSelected:s.isSelected=!1});const c=this.employees.filter(s=>s.isSelected);this.$emit("set-selected-item-id",c.length>0?c[0].id:0)},clearInput(){this.tickets.forEach(l=>{l.isSelected=!1})}},computed:{ticketsList(){return this.tickets.filter(l=>!this.filteredValue||l.title.toLowerCase().includes(this.filteredValue.toLowerCase())||l.place.toLowerCase().includes(this.filteredValue.toLowerCase()))},isAnySelected(){return this.tickets.filter(l=>l.isSelected==!0).length>0}}};function B(l,c,s,x,o,r){const n=a("el-input"),i=a("el-col"),d=a("el-row"),_=a("TicketsListItemComponent");return m(),h(C,null,[t(d,{class:"search-card"},{default:e(()=>[t(i,null,{default:e(()=>[t(n,{class:"custom-input",onFocus:c[0]||(c[0]=u=>o.focused=!0),onBlur:c[1]||(c[1]=u=>o.focused=!1),modelValue:o.filteredValue,"onUpdate:modelValue":c[2]||(c[2]=u=>o.filteredValue=u),type:"text",placeholder:"Поиск события",onClear:r.clearInput,clearable:""},null,8,["modelValue","onClear"])]),_:1})]),_:1}),r.ticketsList.length>0?(m(),k(d,{key:0,class:w(o.focused?"employee-box-with-padding":"employee-box")},{default:e(()=>[(m(!0),h(C,null,V(r.ticketsList,u=>(m(),k(_,{key:u.id,ticket:u,onSelectItem:r.selectItem},null,8,["ticket","onSelectItem"]))),128))]),_:1},8,["class"])):S("",!0)],64)}const j=g($,[["render",B]]),N={name:"TicketsListView",components:{TicketListComponent:j},data(){return{}},mounted(){},methods:{}};function v(l,c,s,x,o,r){const n=a("TicketListComponent");return m(),h("main",null,[t(n)])}const E=g(N,[["render",v]]);export{E as default};
